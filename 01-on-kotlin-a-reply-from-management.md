# On Kotlin: A Reply From Management
## Becoming a First-Class Language At Google I/O 2017

As I was flying back from Google I/O 2017, I began to prepare a list of items to present to the team. The items included “feature — componentization”, updated toolsets, life-like animation, “content first” Android TV, and new build telemetry measurement points. However there was that — one — item I wrote down. It had two question marks.

> > Kotlin? Should we adopt?

I’ve attended every Google I/O since 2012. I’ve sat through, in person, approximately one hundred plus sessions. While past years are fading in my memory, this year progressed into something different. It was memorable in a way that had real substance. Yes, Google is moving from mobile to AI first but this year had implications of the beginning of a tectonic shift for Android development.

## The Announcement

When the unexpected announcement of official support for the language Kotlin was revealed at the keynote, many engineers appeared elated. They clapped and cheered. This included many of our engineers. I smiled and took in the experience.

>> As managers, we must be curious. Continue to ask questions until there is understanding.

A few new sessions appeared out from the I/O scheduling veil and focused on the Kotlin language. As a technical engineering manager, I decided to attend these newly sprouted sessions because I was curious about the rush of endorphins.

Watching our engineers in the chat channels and smiling faces of the engineers on our team, Kotlin appeared to be a big deal.

At the start of Google I/O, I knew about the existence of Kotlin but my technical understanding was sparse. Speaking to engineers in prior meetings, my mental model of Kotlin was in the form of a young language with a lot of potential. It was expressive. It recently made asynchronous programming easy and had been quickly iterated upon by the maintainers Jetbrains. Oh yes, it also liberated code from boilerplate.

>> Management should be aware of code quality. What is yours like?

Indeed, the less lines the better for maintenance and code quality.

With the Kotlin announcement being so dramatic I thought the wave would calm during the duration of the conference. This was not the case.

## The Session On Kotlin

This year at I/O the sessions were slightly tweaked. Some sessions included guest speakers from those outside of Google. This was new to everyone who attended previous years. Principal Google engineers would introduce the guests on the stage and like magic, they swapped speakers and then took the audience to someplace different.

I believe this tweak, this refactor, was a brilliant move.

Some sessions related to Kotlin. One of those sessions that I reserved on that keynote Wednesday was “Life is Great and Everything Will Be Ok, Kotlin is Here”. This was one of those hosted sessions. It would be run by two staff engineers from Square and Pinterest, Jake Wharton and Christina Lee.

I let the engineers know on the chat channels that this one was important and if possible to reserve a seat. My gut said it was going to be great.

## The Faces Of Kotlin

Listening carefully to our engineers, there is an unspoken love for Jake and Christina. After many 1:1’s, team meetings, and discussing their work with the engineers, I’ve been watching previous conference videos by understanding that love and admiration. These are the community leaders.

They too are now the faces of Kotlin.

> > As managers, actively listening is key. Acting on that listening leads to engineering happiness.
Please watch the session in its entirety, it’s worth the time.

The session was split in two halves. Jake started. He explained how to convert typical Android lines to Kotlin and built the examples to an advanced level where I was lost.

I was so lost to a point in-which ten minutes of squinting, trying to look over others heads, my eyes watered to focus. I had inadvertently rubbed my eyes to regain focus but with fingers that had sunscreen on them.

For a few minutes my eyes stung and my vision became blurry. I was fidgeting all over the place as Jake continued to smash through examples.

The Java code disappeared just like that. If only I could see it.

A few of our engineers were in the session as well, one right next to me. As the engineer was smiling and nodding to Jake’s examples, I was having an anxiety attack. The thought of becoming permanently blinded by I/O branded sunscreen was ironic.

It could have been the overload of Kotlin as well.

But I stayed because I wanted to hear Christina and her portion of the presentation.

## Blinded by Rockstars

The session almost had a rockstar aura to it where, hearing later, people were waiting in line to the very last minute. This was Jake and Christina, so I was determined to stay even if I could not see.

So, with Jake completing his half and my anxiety wearing off, I wondered what Christina would present. Perhaps more examples? A live demo of the conversion of an Android app to Kotlin?

No. Christina dived into a topic so fundamentally different and profound.

> > As managers, we should always be interested in optionality. Ask for the options from engineers.

Christina’s message was one that hit very hard on how to evangelize. You, management, and the team. Three points. In a sense, how to better the development life of the engineer in each and every organization.

The topic discussed was heavy. With an engineer on our team sitting to the right of me, there was a sense of unease as we sat together. In a way that could not be described. I was the manager.

I kept looking center left.

I wondered if there were any other managers or stakeholders present? Was I the only one? Will they, the engineers, identify me and beat the crap out of me? Dragging me out of the tent?

I only had sunscreen to blind them, a brilliant thought at the time.

But Christina’s topic was unexpected. After debating with engineers later on, I had come to appreciate the stance. This is rarely seen in the community in a way that it was presented.

It took courage.

> > Management focuses on business value and user experience. Explain the what and why. Let engineers focus on the how.

When the session closed I became so compelled to say something as an engineering manager, I was ready to march up to the microphone and ask

> > How does the developer community push Google to make Android Studio’s new Android project setup to default include… Kotlin support?

Lets remember Google is actively fixing the wrongs that they have caused and now Java 8 is actually here. Java continues to be the default and Google is standing behind it prominently.

Christina ended at the forty minute mark and there was no time for Q&A.

I repeated that same question to the engineer sitting next to me. He looked at me almost ashamed that I was, in-fact, his manager. He had no answer for me. We walked out, management beating avoided.

> > Management should encourage plans from engineers. Then select one. Be brave and accountable of that plan and a focal point of its execution.

## Always Learning

My compulsion of this unanswered question and Christina’s focus had driven me so much to write and share this experience here. Outside of business dealing and internal communication, I rarely do write.

I have, in the twelve years developing software and somewhere in the middle started to manage engineering teams, have never seen anything quite like it. I can’t remember a meeting, one on one, stakeholder meeting or whatever… and felt like I did. I’ve experienced a lot of things over the years in business. I’ve employed the usual management tactics of suppressing and letting it “soak”. Other times I’d just let it go.

I’m still learning.

But this was just an odd feeling, as if I wronged every team that I’ve lead. Did I wrong the team that asked about Kotlin?

## Adoption?

The question — to default include Kotlin support — is one that needs to continued to be asked. I believe it is the only question to be answered. It could be the definitive answer of Kotlin adoption.

Remember, Google chose Java because there were more fish in the sea for initial adoption. Just think of all those Java examples that Google would need to update.

So now that Christina had equipped engineers with fundamentals, and Google had green-lit Kotlin, how does the application of those fundamentals translate to the above to answer the question?

> > More adoption?

If the answer is yes, this has many more questions than answers. The fundamental problem is always the following. What is the problem you are trying to solve? Is it the right problem? Why? Yeah, boiler plate is a problem but what else?

From what I heard from many conversations is that a main driver of Kotlin is developer happiness. Google even drops words like enjoyable and fun in their decision to make it official. Hell, even the method keywords in Kotlin are fun.

> > Management must balance happiness. Engineers do in fact build more things well when they are happy.

Kotlin makes developers happy. This is not a lie. Truly every engineer I spoke to that had experience with Kotlin are happy. My latest conversation about this happiness was with an Android engineer working on medical devices. He was happy and he wasn’t looking back at Java.

Can management become happy too?

## Technically Valid

During the presentation, Christina discussed some points as to why Kotlin is a clear choice. One slide discussed the billion dollar mistake of Java. Kotlin solves this by making nullability explicitly declared and discourages its use.

But then again, the interoperability of Kotlin is one hundred percent with Java. So is this barrier safe until Java goes away? Does NPE now become a decaying problem? From one trillion, to one billion, to a million dollar mistake?

> > Management should encourage consistency. Make sure to communicate and promote that consistency.

As a technical engineering manager, the powerful concept ranges of explicit-implicit and consistent-inconsistent is one that usually steers codebases in either a clear direction or a one that is abandoned. Philosophical choices on these spectrums do actual matter.

Kotlin is here. I just hope not another rewrite.

In the case of NPE’s, Java makes the null implicitly included. Big problem. I’ve seen many teams make the null usage vague, therefore defensive programming and NPE’s are common because of not addressing the extreme implicit-inconsistent delta. Some methods return nulls, others do not. Some parameters take nulls, others are annotated, others are not. Some go as far as a null object pattern, some not. Some mixing of optionals in there and well… you get the point.

Too many code reviews discuss null inconsistency but solutions are deferred.

Christina brought up the opposite problem. About typed nullability and what does the community think about using null. Could this be another pitfall as an inconsistent pattern may emerge to actually using null? Remember, Kotlin gives us this ability because it’s stuck to that interoperability until Java goes away.

> > Management should promote the formation of style. Own the style and improve it.

This will not be the case for idiomatic Kotlin, but what is idiomatic Kotlin anyway? If the above is an indicator, Kotlin maybe so expressive that will introduce even more inconsistency among community usage and even in teams.

Hey, but this one last library we can’t get rid of is still in… Java.

When the constraints of a previous language are lifted and the exhaustion of boilerplate removed, are there any unexpected outcomes due to that found expressiveness?

## Rigor

Christina also brought up the topic of letting the tooling do the hard problems. We are not good at hard problems. I agree with this. Tools must do their job well otherwise they are tossed out or complained about until they are fixed. Google is proving this well, so well, with Gradle.

And lately Java.

I actively encourage the engineers to keep on the interesting and fun stuff and let the other tooling do the job. It’s not all about operations, features, and execution but business does require it.

It’s also about experimentation and innovation. Over the course of time in management, I have come to prove to myself that execution is valiant, but that engineering creativity is king and drives other execution not seen in the fog of war.

> > Just like the engineers, management should be lazy and impatient. But in the way they think.

However, since the Kotlin tooling, IDE, and language are very tight, could we be heading in a direction where we are developing a culture of voodoo? If a generation of engineers grow on Kotlin, are we doing a disservice about the way in-which they grow? In which they are educated about the engineering rigors?

In my brief review of the Kotlin language, there is some blazing fast support in there that promotes code completion. In a way that is fundamentally different than writing the standard stores and loops. The compiler does in-fact hide and flex more.

There are magical wires that are optimized.

The argument I’ve heard is that engineers should only be optimizing the “hard” parts. The “efficiency-must” parts. This is a very strong argument. But with the many coding exercises I’ve been in… Google included, the ask “What is the time/complexity of this code you wrote. Can you do better?”. On Kotlin code, what is the answer? “shrugs, depends. I don’t know.”. That could be an acceptable answer.

Is it acceptable? “Okay, lets switch back to Java [style] for a second to answer…”

This is a tough one to answer. Maybe I cannot see it. Maybe I’ve read Programming Pearls and Code Complete too many times and have been brainwashed that engineers who cannot answer these types of rigor questions are immediately worthy for management.

Shit.

## Owning the Quality

Christina brought up that engineers can provide apps that are more stable for their users. Using Kotlin and its tooling will help to avoid crashes “a lot” and the users will be happier.

In a sense this one is a tough sell to some management. Regardless of the tooling or language, it really does take a village to launch stable products. It takes consistent style, and it takes a pipeline, and that engineers own the quality.

Did I mention that engineers should own the quality?

> > Management should encourage a set of core engineering values, and invest time in that on-boarding.

It’s a very hard thing to do well. To launch products consistently. To launch them quickly.

Now try it with standing up a testing culture on top and it’s close to impossible, but still possible.

Adding new languages and tooling to the mix are up there, but maybe not as hard as a testing culture.

Do you have a testing culture?

I do agree that Kotlin may be able to help catch things sooner, but in a sense what is the cost of that “catch sooner” and how much sooner?

Whether its Java or Kotlin, your code reviews, pair programmings, linting, unit tests, integration tests, end-to-end tests, and other items should be able to check items as far upstream as possible.

Kotlin may decrement one to the risk, but again at what cost?

## Again, Adoption

Christina’s presentation is one that challenges everyone to the maximum. I really do believe it deserves more attention and that everyone should share it broadly.

I too also like to challenge engineers to the maximum with what we have. But in a meaningful way that is doable. This is why this session resonated so deeply.

With all this being said, I want to revisit the original question.

> > Kotlin? Should we adopt?

It is clear what we should do… as managers. If brave enough, work on the koans to understand what it looks and feels like. Listen carefully to the engineers on the benefits of Kotlin.

Listen to their desired wants and ask for plans.

One last thing that we all need to challenge. It’s not on the community or the engineers or the teams.

> > Managers have partners internal and external. Push hard on them and the Google developer advocates.

Remember the team are the doers.

To me, official Kotlin language support is now owned by Google. We must pressure them and the developer advocates on answers as to what we should do.

Many hiring managers are constrained with parameters that can be difficult to avoid. Couple that with the demand of talented engineers and it’s a very hard problem to solve.

It’s also an unexpected problem. It’s a dual track high level language competition.

Rare. Google never disappoints.

> > A brilliant example of a live A/B test on the community.

Was that too cruel to state?

It’s the truth. Both languages have their strengths and there will be no clear victor for years to come.

## In the End, Kotlin

Google will have to set a course of direction for Kotlin in some way, and with continued heavy investments in Java and winning battles, the only sure bet is that a course is unclear.

A Kotlin selection for production apps maybe the same as using !!. It is a risk. Perhaps calculated if knowing the costs. However, we should encourage engineers to debate and to set the tone of the future… of Android development.

> > Management usually holds the stick in the middle. Instead, encourage management to support and raise both ends.

Of course, we may use Kotlin eventually. Who doesn’t want to be happy?